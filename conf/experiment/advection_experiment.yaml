# @package _global_

# Advection Equation Experiment
# 
# This is a comprehensive configuration for the pure advection problem.
# Modify the settings below based on your needs:
#
# Quick Test Mode:
#   - Set epochs: 2, train_sim: [0,1], val_sim: [2]
#   - Set mode: ['train'] (skip evaluation for speed)
#
# Physical Model:
#   - Change model_type: 'physical'
#   - Use trainer: physical or physical_with_suppression
#   - Add learnable_parameters under trainer_params
#
# Hybrid Training:
#   - Change model_type: 'hybrid'
#   - Use trainer: hybrid
#
# Data Generation:
#   - Add 'generate' to mode: ['generate', 'train', 'evaluate']
#   - Set generation_params.num_simulations as needed

defaults:
  - override /data: advection_128
  - override /model/physical: advection
  - override /model/synthetic: unet_advection
  - override /trainer: synthetic
  - override /generation: default
  - override /evaluation: default

run_params:
  experiment_name: 'advection_experiment'
  notes: 'Pure advection with synthetic UNet model'
  mode: ['evaluate']  # Options: generate, train, evaluate
  model_type: 'synthetic'  # Options: synthetic, physical, hybrid

model:
  synthetic:
    model_save_name: 'advection_unet_128'

generation_params:
  num_simulations: 10
  total_steps: 100
  save_interval: 1

trainer_params:
  # Training data
  train_sim: [1]  # Training simulations
  val_sim: [0]  # Validation simulations
  
  # Training hyperparameters
  epochs: 3000
  batch_size: 16
  num_predict_steps: 4
  
  # Optimizer (for synthetic/hybrid)
  learning_rate: 0.0001
  optimizer: 'adam'
  scheduler: 'cosine'
  weight_decay: 0.0
  
  # Physical model learnable parameters (for physical/hybrid)
  learnable_parameters:
    - name: 'advection_coeff'
      initial_guess: 1.0  # Starting value for optimization
  
  # Validation
  validate_every: 10
  validation_rollout_steps: 75
  
  # Checkpointing
  checkpoint_freq: 10
  print_freq: 10

evaluation_params:
  test_sim: [0,1]
  num_frames: 75
  metrics: ['mse', 'mae', 'rmse']
  save_animations: true
  save_plots: true

project_root: ${hydra:runtime.cwd}
